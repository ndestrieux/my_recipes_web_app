{% extends "../base.html" %}

{% load static %}

{% block content %}
<section class="section wb">
    <div class="container">
        <h2>All recipes</h2>
        {% for recipe in object_list %}
        {% if forloop.counter0|divisibleby:4 %}
        <div class="row grid-style">{% endif %}
            <div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
                <div class="blog-box">
                    <div class="post-media">
                        <a href="{% url recipe.category|add:'-list' %}">
                            <span class="detail">{{ recipe.category }}</span>
                        </a>
                        <a href="{% url 'recipe-detail' recipe.id %}">
                            <img class="img-fluid"
                                 onerror="this.src='{% static 'images/default-image.jpg' %}';"
                                 src="{{ recipe.thumbnail.url }}">
                            <div class="hovereffect"></div>
                        </a>
                    </div>
                    <div class="blog-meta big-meta">
                        <h4><a href="{% url 'recipe-detail' recipe.id %}">{{ recipe.name }}</a></h4>
                        <small><a href="{% url 'recipe-detail' recipe.id %}" title="">{{ recipe.date }}</a></small>
                        <small><a href="{% url 'recipe-detail' recipe.id %}" title="">by {{ recipe.posted_by }}</a></small>
                    </div>
                </div>
            </div>
            {% if forloop.counter|divisibleby:4 or forloop.last %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

{% endblock %}